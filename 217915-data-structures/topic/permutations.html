---
layouts: archive
title: Zulip Chat Archive
permalink: /stream/217915-data-structures/topic/permutations.html
---

<h2>Stream: <a href="http://vishnuks.com/zulip-archive-action-test-2/stream/217915-data-structures/index.html">data structures</a>
<h3>Topic: <a href="http://vishnuks.com/zulip-archive-action-test-2/stream/217915-data-structures/topic/permutations.html">permutations</a></h3>

<hr>

<base href="https://programmers.zulipchat.com">

<head><link href="/style.css" rel="stylesheet"></head>

{% raw %}

<a name="186227741"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186227741" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186227741">(Jan 21 2020 at 21:10)</a>:</h4>
<p>Here's a little programming puzzle.  Given a permutation of the first N integers, find the moves needed to put the list back in place.</p>



<a name="186227840"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186227840" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186227840">(Jan 21 2020 at 21:11)</a>:</h4>
<p>So for the list [0, 5, 1, 2, 3, 4], the only move you need is <strong>from</strong>: 1, <strong>to</strong>: 5.  In other words, put the 5 from position 1 into position 5.</p>



<a name="186228130"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186228130" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186228130">(Jan 21 2020 at 21:13)</a>:</h4>
<p>For lists that are in worse order, you'll require more moves, so, for example, [3, 2, 1, 0] requires moves from-0-to-3 and from-1-to-2.</p>



<a name="186228323"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186228323" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186228323">(Jan 21 2020 at 21:14)</a>:</h4>
<p>Finally, your moves should account for previous moves, so for [3, 2, 1, 0], you might move the 0 to the front of the list, and of course that will change the positions of [2, 1, 0] and affect their subsequent from/to offsets.</p>



<a name="186228410"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186228410" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186228410">(Jan 21 2020 at 21:15)</a>:</h4>
<p>The simple solution to this problem is to just take any decent sort algorithm, perform it on the list, and record the moves.</p>



<a name="186228446"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186228446" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186228446">(Jan 21 2020 at 21:15)</a>:</h4>
<p>But suppose you think that the list is generally gonna be mostly sorted.  How can you take advantage of that?   And when do you bail out of the sort?</p>



<a name="186228525"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186228525" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186228525">(Jan 21 2020 at 21:16)</a>:</h4>
<p>So sorry to mention @all for the above puzzle, but I'm trying to generate a bit of conversation on this site.  Thanks again for signing up!</p>



<a name="186232415"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186232415" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Ray Kraesig <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186232415">(Jan 21 2020 at 21:57)</a>:</h4>
<p>What are you defining as a "move"? Saying that you can solve <code>[0, 5, 1, 2, 3, 4]</code> in one move seems to imply that a "move" is a single-step rotation of some contiguous subsequence, but you need at least three moves to solve <code>[3, 2, 1, 0]</code> that way.</p>



<a name="186232571"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186232571" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186232571">(Jan 21 2020 at 21:58)</a>:</h4>
<p>A move from 2 to 6 moves item 2 to the 6th position and pushes 3, 4, 5, 6 back.  (So, yeah, kinda like a rotation.)</p>



<a name="186232636"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186232636" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186232636">(Jan 21 2020 at 21:59)</a>:</h4>
<p>Oops, you're right about 3,2,1,0.</p>



<a name="186232741"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186232741" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186232741">(Jan 21 2020 at 22:00)</a>:</h4>
<p>One solution for 3210 is 3210 -&gt; 0321 -&gt; 0132 -&gt; 0123.</p>



<a name="186232921"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186232921" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186232921">(Jan 21 2020 at 22:02)</a>:</h4>
<p>Also, I'm making the constraint that you can only move one element at a time.  In other words, you can't move a big chunk at a time.</p>



<a name="186233155"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186233155" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186233155">(Jan 21 2020 at 22:05)</a>:</h4>
<p>So one fairly obvious thing to do with a mostly sorted list is compress it into ranges...i.e. [9, 0, 1, 2, 3, 6, 7, 4, 5, 8] would be [9, 0-3, 6-7, 4-5, 8].</p>



<a name="186233324"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186233324" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186233324">(Jan 21 2020 at 22:07)</a>:</h4>
<p>And then if you do an insertion sort, you can pretty quickly infer the actual moves from the original list.</p>



<a name="186233501"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186233501" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186233501">(Jan 21 2020 at 22:09)</a>:</h4>
<p>But you need to be a little careful about whether you move 0, 1, 2, and 3 before 9 (four moves) vs. moving 9 before 0, 1, 2, and 3 (one move).  And then there's also the fact that you're not really minimizing moves in an insertion sort.</p>



<a name="186233897"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186233897" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186233897">(Jan 21 2020 at 22:13)</a>:</h4>
<p>Or once you got the ranges, you could do an efficient sort to know where the ranges belong:</p>
<ul>
<li>9 (5th)</li>
<li>0-3 (1st)</li>
<li>6-7 (3rd)</li>
<li>4-5 (2nd)</li>
<li>8 (4th)</li>
</ul>
<p>And then knowing that, the question is still how to minimize moves.</p>



<a name="186234019"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186234019" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186234019">(Jan 21 2020 at 22:15)</a>:</h4>
<p>In the above example, you'd probably demote 9 to the bottom, then demote 6 and 7, and then you're done.</p>



<a name="186267443"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186267443" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rohitt Vashishtha <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186267443">(Jan 22 2020 at 09:09)</a>:</h4>
<p>That's interesting. We can reword the new problem as:</p>
<p>"You have heavy bags of flour each having some weight and you know the order that you have to put them in. You want to expend minimum energy to pick up the bags (thus, you wanna lift the lighter bags). Which bags would you move around?"</p>
<p>Here, this becomes:</p>
<table>
<thead>
<tr>
<th>Current Order</th>
<th>Weight</th>
</tr>
</thead>
<tbody>
<tr>
<td>5</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>4</td>
</tr>
<tr>
<td>3</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
</tr>
<tr>
<td>4</td>
<td>1</td>
</tr>
</tbody>
</table>



<a name="186268045"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186268045" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rohitt Vashishtha <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186268045">(Jan 22 2020 at 09:17)</a>:</h4>
<p>So, we can choose which elements to move by sorting by weight maybe?</p>
<p>Here, this is the order that we would then choose to traverse it in: <code>[5, 4], [3, 2], [1]</code> (1 is the least likely to be moved around).</p>
<p>Among these, let's sort them by how far they are from their position. So, we get <code>[5], [4], [2], [3], [1]</code>.</p>
<p>Now, let's  do our moves (Energy Used in brackets):</p>
<p><code>51324</code> -&gt; <code>13245</code> (1) -&gt; <code>13245</code>(0) -&gt; <code>12345</code> (2) = 3 units of energy used, or 3 moves in the original problem.</p>



<a name="186280557"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186280557" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186280557">(Jan 22 2020 at 12:12)</a>:</h4>
<p><span class="user-mention" data-user-id="255934">@Rohitt Vashishtha</span> I like the bags-of-flour formulation!</p>



<a name="186309775"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186309775" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186309775">(Jan 22 2020 at 17:30)</a>:</h4>
<p>This is my attempt to solve it: <a href="https://github.com/showell/zulip/commits/showell-list-exper" target="_blank" title="https://github.com/showell/zulip/commits/showell-list-exper">https://github.com/showell/zulip/commits/showell-list-exper</a></p>



<a name="186436983"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/186436983" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rohitt Vashishtha <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#186436983">(Jan 23 2020 at 21:21)</a>:</h4>
<p><span class="user-mention" data-user-id="247724">@Steve Howell</span> neat! I played around with it a little but can't figure out what's exactly the concept of <code>top_val</code> here.</p>



<a name="188098034"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/188098034" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#188098034">(Feb 13 2020 at 11:36)</a>:</h4>
<p><span class="user-mention" data-user-id="255934">@Rohitt Vashishtha</span> That variable name is less than ideal, but it basically represents the value that <strong>should</strong> be at the top (i.e. front) of the new list.</p>



<a name="197147196"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/197147196" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rohitt Vashishtha <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#197147196">(May 11 2020 at 13:46)</a>:</h4>
<p>@<strong>Steve Howell|999</strong> has this server not been updated in sometime?</p>



<a name="197147241"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/197147241" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Rohitt Vashishtha <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#197147241">(May 11 2020 at 13:46)</a>:</h4>
<p>Also, nice way to avoid getting mentioned. <span aria-label="sunglasses" class="emoji emoji-1f60e" role="img" title="sunglasses">:sunglasses:</span></p>



<a name="197254363"></a>
<h4><a href="https://programmers.zulipchat.com#narrow/stream/217915-data%20structures/topic/permutations/near/197254363" class="zl"><img src="http://vishnuks.com/zulip-archive-action-test-2/assets/img/zulip2.png" alt="view this post on Zulip"></a> Steve Howell <a href="http://vishnuks.com/zulip-archive-action-test-2/217915-data-structures/permutations#197254363">(May 12 2020 at 09:58)</a>:</h4>
<p>Heh, I changed my name back to "Steve Howell" (without the <code>|999</code> suffix).</p>



{% endraw %}

<hr><p>Last updated: Nov 08 2020 at 07:53 UTC</p>